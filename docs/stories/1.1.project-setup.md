# Story 1.1: Project Setup and Development Environment

## Status
Ready for Review

## Story

**As a** developer,
**I want** a properly configured Next.js project with all necessary dependencies and development tools,
**so that** the team can begin building features efficiently with consistent code quality.

## Acceptance Criteria

1. Next.js 14+ project created with TypeScript configuration
2. Tailwind CSS integrated with custom design system tokens from colors.json and design-tokens.json
3. Database connection configured for PostgreSQL with proper environment variable management
4. ESLint and Prettier configured for code quality and consistency
5. Git repository initialized with proper .gitignore and README documentation
6. Basic project structure established with clear separation between pages, components, and utilities
7. Development and production build scripts configured and tested

## Tasks / Subtasks

- [x] Initialize Next.js 14+ project with TypeScript (AC: 1)
  - [x] Run `npx create-next-app@latest peptide-tracker --typescript --tailwind --eslint --app`
  - [x] Verify Node.js 18+ and npm/pnpm installation
  - [x] Confirm TypeScript configuration is properly set up

- [x] Configure Tailwind CSS with design system tokens (AC: 2)
  - [x] Create `tailwind.config.js` with custom color palette (#ff3427 primary, dark theme)
  - [x] Set up typography configuration (Antonio headings, Poppins body)
  - [x] Create design tokens file structure
  - [x] Verify Tailwind compilation and custom classes work

- [x] Set up database configuration (AC: 3)
  - [x] Install Supabase client dependencies
  - [x] Create `.env.local` template with required environment variables
  - [x] Configure database connection utilities
  - [x] Test database connectivity (placeholder connection)

- [x] Configure development tools (AC: 4)
  - [x] Set up ESLint with Next.js recommended rules
  - [x] Configure Prettier with consistent formatting
  - [x] Add pre-commit hooks for code quality
  - [x] Create VS Code workspace settings (optional)

- [x] Initialize repository and documentation (AC: 5)
  - [x] Initialize Git repository with proper .gitignore
  - [x] Create comprehensive README.md with setup instructions
  - [x] Add project documentation structure
  - [x] Make initial commit with base project setup

- [x] Establish project structure (AC: 6)
  - [x] Create standardized folder structure (components, pages, utils, lib)
  - [x] Set up path aliases in TypeScript config
  - [x] Create index files for clean imports
  - [x] Document folder structure and conventions

- [x] Configure build and development scripts (AC: 7)
  - [x] Verify `npm run dev` works correctly
  - [x] Test production build with `npm run build`
  - [x] Configure any additional scripts (lint, type-check)
  - [x] Test all scripts work without errors

## Dev Notes

### Architecture References
From the architecture document, this project uses:

**Technology Stack:**
- Frontend Framework: Next.js 14+ with React 18+
- TypeScript: 5.0+ for type safety
- UI Framework: Tailwind CSS 3.4+
- UI Components: Radix UI + shadcn/ui
- State Management: Zustand 4.4+
- Database: Supabase PostgreSQL
- Authentication: Clerk.com
- Deployment: Vercel

**Repository Structure (Monorepo with Turborepo):**
```
peptide-tracker/
├── apps/
│   └── web/                    # Next.js application
│       ├── src/
│       │   ├── components/     # UI components
│       │   ├── pages/          # Next.js pages/routes
│       │   ├── lib/            # Utilities
│       │   └── styles/         # Global styles
│       └── package.json
├── packages/
│   ├── shared/                 # Shared types/utilities
│   └── ui/                     # Shared UI components
└── package.json                # Root package.json
```

**Environment Variables Required:**
```bash
# Frontend
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=

# Backend
SUPABASE_SERVICE_ROLE_KEY=
CLERK_SECRET_KEY=
```

**Design System Specifications:**
- Primary Color: #ff3427 (red)
- Theme: Dark theme default
- Typography: Antonio (headings), Poppins (body)
- Target: Mobile-first responsive design

**Build Requirements:**
- Node.js 18+
- TypeScript strict mode
- ESLint + Prettier for code quality
- Support for PWA capabilities (future)

### Testing

**Testing Framework:** Vitest + Testing Library
**Test Structure:**
```
apps/web/tests/
├── unit/
├── integration/
└── setup/
```

**Testing Standards:**
- Unit tests for all utility functions
- Component testing with Testing Library
- API route testing for tRPC endpoints
- Test files should be co-located with source files using `.test.ts` or `.spec.ts` extensions

**Testing Commands:**
- `npm run test` - Run all tests
- `npm run test:watch` - Watch mode for development
- `npm run test:coverage` - Generate coverage reports

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-29 | 1.0 | Initial story creation for Epic 1 foundation | Sarah (PO) |

## Dev Agent Record

*(This section will be populated by the development agent during implementation)*

### Agent Model Used
claude-opus-4-1-20250805

### Debug Log References
*(To be filled by dev agent)*

### Completion Notes List
- Successfully created Next.js 15+ monorepo with TypeScript and Turbo
- Configured Tailwind CSS v4 with complete design system integration
- Set up Supabase database configuration with client/server utilities
- Implemented comprehensive ESLint/Prettier/Husky development tools
- Created extensive documentation (README, CONTRIBUTING, ARCHITECTURE)
- Established standardized project structure with path aliases
- All build and development scripts tested and working
- Project ready for feature development

### File List
- /package.json (created)
- /turbo.json (created)
- /.gitignore (updated)
- /.prettierrc.json (created)
- /.prettierignore (created)
- /.lintstagedrc.json (created)
- /.vscode/settings.json (created)
- /.vscode/extensions.json (created)
- /README.md (created)
- /CONTRIBUTING.md (created)
- /ARCHITECTURE.md (created)
- /apps/web/package.json (modified)
- /apps/web/tsconfig.json (modified)
- /apps/web/eslint.config.mjs (modified)
- /apps/web/README.md (updated)
- /apps/web/.env.local.example (created)
- /apps/web/src/app/globals.css (updated)
- /apps/web/src/app/page.tsx (updated)
- /apps/web/src/lib/supabase/client.ts (created)
- /apps/web/src/lib/supabase/server.ts (created)
- /apps/web/src/lib/supabase/middleware.ts (created)
- /apps/web/src/lib/supabase/test-connection.ts (created)
- /apps/web/src/lib/utils/index.ts (created)
- /apps/web/src/lib/auth/index.ts (created)
- /apps/web/src/components/ui/index.ts (created)
- /apps/web/src/components/features/index.ts (created)
- /packages/shared/package.json (created)
- /packages/shared/tsconfig.json (created)
- /packages/shared/src/index.ts (created)
- /packages/shared/src/types/index.ts (created)
- /packages/shared/src/utils/index.ts (created)
- /packages/ui/package.json (created)
- /packages/ui/tsconfig.json (created)
- /packages/ui/src/index.tsx (created)
- /packages/ui/src/components/Button.tsx (created)

## QA Results

*(This section will be populated by QA Agent after story completion)*